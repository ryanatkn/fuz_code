<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>script</span> <span class="token_attr_name">lang</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>ts<span class="token_punctuation">"</span></span> <span class="token_attr_name">module</span><span class="token_punctuation">></span></span><span class="token_script"><span class="token_lang_ts">
	<span class="token_special_keyword">export</span> <span class="token_keyword">const</span> <span class="token_constant">HELLO</span> <span class="token_operator">=</span> <span class="token_string">'world'</span><span class="token_punctuation">;</span>
</span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>script</span><span class="token_punctuation">></span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>script</span> <span class="token_attr_name">lang</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>ts<span class="token_punctuation">"</span></span><span class="token_punctuation">></span></span><span class="token_script"><span class="token_lang_ts">
	<span class="token_comment">// @ts-expect-error</span>
	<span class="token_special_keyword">import</span> <span class="token_capitalized_identifier token_class_name">Thing</span> <span class="token_special_keyword">from</span> <span class="token_string">'$lib/Thing.svelte'</span><span class="token_punctuation">;</span>
	<span class="token_special_keyword">import</span> <span class="token_keyword">type</span> <span class="token_punctuation">{</span><span class="token_capitalized_identifier token_class_name">Snippet</span><span class="token_punctuation">}</span> <span class="token_special_keyword">from</span> <span class="token_string">'svelte'</span><span class="token_punctuation">;</span>

	<span class="token_keyword">const</span> <span class="token_punctuation">{</span>
		thing<span class="token_punctuation">,</span>
		bound <span class="token_operator">=</span> <span class="token_function">$bindable</span><span class="token_punctuation">(</span><span class="token_boolean">true</span><span class="token_punctuation">)</span><span class="token_punctuation">,</span>
		children<span class="token_punctuation">,</span>
		onclick<span class="token_punctuation">,</span>
	<span class="token_punctuation">}</span><span class="token_operator">:</span> <span class="token_punctuation">{</span>
		thing<span class="token_operator">:</span> <span class="token_capitalized_identifier token_class_name">Record</span><span class="token_operator">&lt;</span><span class="token_builtin">string</span><span class="token_punctuation">,</span> <span class="token_builtin">any</span><span class="token_operator">></span><span class="token_punctuation">;</span>
		bound<span class="token_operator">?</span><span class="token_operator">:</span> <span class="token_builtin">boolean</span><span class="token_punctuation">;</span>
		children<span class="token_operator">:</span> <span class="token_capitalized_identifier token_class_name">Snippet</span><span class="token_punctuation">;</span>
		onclick<span class="token_operator">?</span><span class="token_operator">:</span> <span class="token_punctuation">(</span><span class="token_punctuation">)</span> <span class="token_operator">=></span> <span class="token_keyword">void</span><span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span> <span class="token_operator">=</span> <span class="token_function">$props</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>

	<span class="token_keyword">const</span> thing_keys <span class="token_operator">=</span> <span class="token_function">$derived</span><span class="token_punctuation">(</span><span class="token_capitalized_identifier token_class_name">Object</span><span class="token_punctuation">.</span><span class="token_function">entries</span><span class="token_punctuation">(</span>thing<span class="token_punctuation">)</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>

	<span class="token_keyword">const</span> a <span class="token_operator">=</span> <span class="token_number">1</span> <span class="token_special_keyword">as</span> <span class="token_builtin">number</span><span class="token_punctuation">;</span>

	<span class="token_keyword">const</span> b <span class="token_operator">=</span> <span class="token_string">'b'</span><span class="token_punctuation">;</span>

	<span class="token_keyword">let</span> c<span class="token_type_annotation"><span class="token_:">:</span><span class="token_type"> <span class="token_builtin">boolean</span> </span></span><span class="token_operator">=</span> <span class="token_function">$state</span><span class="token_punctuation">(</span><span class="token_boolean">true</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>

	<span class="token_keyword">const</span> <span class="token_function_variable token_function">f</span> <span class="token_operator">=</span> <span class="token_punctuation">(</span>p<span class="token_operator">:</span> <span class="token_builtin">any</span><span class="token_punctuation">)</span> <span class="token_operator">=></span> p<span class="token_punctuation">;</span>

	<span class="token_keyword">const</span> <span class="token_function_variable token_function">attachment</span> <span class="token_operator">=</span> <span class="token_punctuation">(</span>_p1<span class="token_operator">:</span> <span class="token_builtin">string</span><span class="token_punctuation">,</span> _p2<span class="token_operator">:</span> <span class="token_builtin">number</span><span class="token_punctuation">)</span> <span class="token_operator">=></span> <span class="token_punctuation">{</span>
		<span class="token_special_keyword">return</span> <span class="token_punctuation">(</span>el<span class="token_operator">:</span> <span class="token_capitalized_identifier token_class_name">HTMLElement</span><span class="token_punctuation">)</span> <span class="token_operator">=></span> <span class="token_punctuation">{</span>
			element_ref <span class="token_operator">!==</span> el<span class="token_punctuation">;</span>
		<span class="token_punctuation">}</span><span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span><span class="token_punctuation">;</span>

	<span class="token_keyword">let</span> value <span class="token_operator">=</span> <span class="token_function">$state</span><span class="token_punctuation">(</span>thing<span class="token_punctuation">[</span><span class="token_string">''</span><span class="token_punctuation">]</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
	<span class="token_keyword">let</span> element_ref<span class="token_operator">:</span> <span class="token_capitalized_identifier token_class_name">HTMLElement</span><span class="token_punctuation">;</span>
</span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>script</span><span class="token_punctuation">></span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>h1</span> <span class="token_attr_name"><span class="token_namespace">bind:</span>this=</span><span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts">element_ref</span><span class="token_punctuation">}</span></span><span class="token_punctuation">></span></span>hello <span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts"><span class="token_constant">HELLO</span></span><span class="token_punctuation">}</span></span>!<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>h1</span><span class="token_punctuation">></span></span>

<span class="token_svelte_expression"><span class="token_each"><span class="token_punctuation">{</span><span class="token_special_keyword">#each</span> thing_keys <span class="token_keyword">as</span> <span class="token_lang_ts"><span class="token_punctuation">[</span>k<span class="token_punctuation">,</span> <span class="token_punctuation">{</span> t<span class="token_punctuation">,</span> u <span class="token_punctuation">}</span><span class="token_punctuation">]</span> <span class="token_punctuation">(</span><span class="token_function">f</span><span class="token_punctuation">(</span>k<span class="token_punctuation">)</span><span class="token_punctuation">)</span><span class="token_punctuation">}</span></span></span></span>
	<span class="token_svelte_expression"><span class="token_at_directive"><span class="token_punctuation">{</span><span class="token_at_keyword">@const</span> <span class="token_lang_ts">v <span class="token_operator">=</span> <span class="token_capitalized_identifier token_class_name">Math</span><span class="token_punctuation">.</span><span class="token_function">round</span><span class="token_punctuation">(</span>t<span class="token_punctuation">[</span>k <span class="token_operator">+</span> <span class="token_function">f</span><span class="token_punctuation">(</span>u<span class="token_punctuation">)</span><span class="token_punctuation">]</span><span class="token_punctuation">)</span><span class="token_punctuation">}</span></span></span></span>
	<span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts"><span class="token_function">f</span><span class="token_punctuation">(</span>v<span class="token_punctuation">)</span></span><span class="token_punctuation">}</span></span>
<span class="token_svelte_expression"><span class="token_block"><span class="token_punctuation">{</span><span class="token_special_keyword">/each</span><span class="token_punctuation">}</span></span></span>

<span class="token_svelte_expression"><span class="token_block"><span class="token_punctuation">{</span><span class="token_special_keyword">#if</span><span class="token_lang_ts"> <span class="token_function">f</span><span class="token_punctuation">(</span>c<span class="token_punctuation">)</span></span><span class="token_punctuation">}</span></span></span>
	<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>Thing</span> <span class="token_attr_name">string_prop="a</span> <span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts"><span class="token_function">f</span><span class="token_punctuation">(</span><span class="token_string">'s'</span><span class="token_punctuation">)</span></span><span class="token_punctuation">}</span></span> <span class="token_attr_name">b"</span> <span class="token_attr_name">number_prop=</span><span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts"><span class="token_function">f</span><span class="token_punctuation">(</span><span class="token_number">1</span><span class="token_punctuation">)</span></span><span class="token_punctuation">}</span></span> <span class="token_punctuation">/></span></span>
<span class="token_svelte_expression"><span class="token_block"><span class="token_punctuation">{</span><span class="token_special_keyword">:else if</span><span class="token_lang_ts"> <span class="token_function">f</span><span class="token_punctuation">(</span>a <span class="token_operator">></span> <span class="token_number">0</span><span class="token_punctuation">)</span></span><span class="token_punctuation">}</span></span></span>
	bigger
<span class="token_svelte_expression"><span class="token_block"><span class="token_punctuation">{</span><span class="token_special_keyword">:else</span><span class="token_punctuation">}</span></span></span>
	<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>Thing</span> <span class="token_attr_name">string_prop</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>b<span class="token_punctuation">"</span></span> <span class="token_attr_name">onthing=</span><span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts"><span class="token_punctuation">(</span><span class="token_punctuation">)</span> <span class="token_operator">=></span> <span class="token_punctuation">(</span>c <span class="token_operator">=</span> <span class="token_function">f</span><span class="token_punctuation">(</span><span class="token_operator">!</span>c<span class="token_punctuation">)</span><span class="token_punctuation">)</span></span><span class="token_punctuation">}</span></span><span class="token_punctuation">></span></span>
		<span class="token_svelte_expression"><span class="token_at_directive"><span class="token_punctuation">{</span><span class="token_at_keyword">@render</span> <span class="token_lang_ts"><span class="token_function">children</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_punctuation">}</span></span></span></span>
	<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>Thing</span><span class="token_punctuation">></span></span>
<span class="token_svelte_expression"><span class="token_block"><span class="token_punctuation">{</span><span class="token_special_keyword">/if</span><span class="token_punctuation">}</span></span></span>

<span class="token_comment">&lt;!-- eslint-disable-next-line svelte/no-at-html-tags --></span>
<span class="token_svelte_expression"><span class="token_at_directive"><span class="token_punctuation">{</span><span class="token_at_keyword">@html</span> <span class="token_lang_ts"><span class="token_string">'&lt;strong>raw html&lt;/strong>'</span><span class="token_punctuation">}</span></span></span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>input</span> <span class="token_attr_name"><span class="token_namespace">bind:</span>value</span> <span class="token_attr_name">type</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>text<span class="token_punctuation">"</span></span> <span class="token_attr_name"><span class="token_namespace">class:</span>active=</span><span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts">c</span><span class="token_punctuation">}</span></span> <span class="token_punctuation">/></span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>span</span> <span class="token_svelte_expression"><span class="token_at_directive"><span class="token_punctuation">{</span><span class="token_at_keyword">@attach</span> <span class="token_lang_ts"><span class="token_function">attachment</span><span class="token_punctuation">(</span><span class="token_string">'param'</span><span class="token_punctuation">,</span> <span class="token_function">f</span><span class="token_punctuation">(</span><span class="token_number">42</span><span class="token_punctuation">)</span><span class="token_punctuation">)</span><span class="token_punctuation">}</span></span></span></span><span class="token_punctuation">></span></span>...<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>span</span><span class="token_punctuation">></span></span>

<span class="token_svelte_expression"><span class="token_at_directive"><span class="token_punctuation">{</span><span class="token_at_keyword">@render</span> <span class="token_lang_ts"><span class="token_function">my_snippet</span><span class="token_punctuation">(</span><span class="token_string">'p'</span><span class="token_punctuation">)</span><span class="token_punctuation">}</span></span></span></span>

<span class="token_svelte_expression"><span class="token_block"><span class="token_punctuation">{</span><span class="token_special_keyword">#snippet</span><span class="token_lang_ts"> <span class="token_function">my_snippet</span><span class="token_punctuation">(</span>p<span class="token_operator">:</span> <span class="token_builtin">string</span><span class="token_punctuation">)</span></span><span class="token_punctuation">}</span></span></span>
	<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>button</span> <span class="token_attr_name">type</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>button<span class="token_punctuation">"</span></span> <span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts">onclick</span><span class="token_punctuation">}</span></span><span class="token_punctuation">></span></span><span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts">p</span><span class="token_punctuation">}</span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>button</span><span class="token_punctuation">></span></span>
<span class="token_svelte_expression"><span class="token_block"><span class="token_punctuation">{</span><span class="token_special_keyword">/snippet</span><span class="token_punctuation">}</span></span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>p</span> <span class="token_attr_name">class</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>some_class hypen-class<span class="token_punctuation">"</span></span> <span class="token_attr_name">id</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>unique_id<span class="token_punctuation">"</span></span><span class="token_punctuation">></span></span>
	some <span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>span</span> <span class="token_attr_name">class</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>a b c<span class="token_punctuation">"</span></span><span class="token_punctuation">></span></span>text<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>span</span><span class="token_punctuation">></span></span>
<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>p</span><span class="token_punctuation">></span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>button</span> <span class="token_attr_name">type</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>button<span class="token_punctuation">"</span></span> <span class="token_attr_name">disabled</span><span class="token_punctuation">></span></span> click me <span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>button</span><span class="token_punctuation">></span></span>

<span class="token_comment">&lt;!-- comment &lt;div>a&lt;br /> {b}&lt;/div> --></span>
<span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts">b<span class="token_punctuation">.</span><span class="token_function">repeat</span><span class="token_punctuation">(</span><span class="token_number">2</span><span class="token_punctuation">)</span></span><span class="token_punctuation">}</span></span>
<span class="token_svelte_expression"><span class="token_punctuation">{</span><span class="token_lang_ts">bound</span><span class="token_punctuation">}</span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>br</span> <span class="token_punctuation">/></span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>hr</span> <span class="token_punctuation">/></span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>img</span> <span class="token_attr_name">src</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>image.jpg<span class="token_punctuation">"</span></span> <span class="token_attr_name">alt</span><span class="token_attr_value"><span class="token_punctuation">=</span><span class="token_punctuation">"</span>access<span class="token_punctuation">"</span></span> <span class="token_punctuation">/></span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>ul</span><span class="token_punctuation">></span></span>
	<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>li</span><span class="token_punctuation">></span></span>list item 1<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>li</span><span class="token_punctuation">></span></span>
	<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>li</span><span class="token_punctuation">></span></span>list item 2<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>li</span><span class="token_punctuation">></span></span>
<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>ul</span><span class="token_punctuation">></span></span>

<span class="token_comment">&lt;!-- embedded tags for boundary testing --></span>
<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>div</span><span class="token_punctuation">></span></span>
	<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>script</span><span class="token_punctuation">></span></span><span class="token_script"><span class="token_lang_ts">
		<span class="token_keyword">const</span> inline_js <span class="token_operator">=</span> <span class="token_string">'no lang attr'</span><span class="token_punctuation">;</span>
	</span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>script</span><span class="token_punctuation">></span></span>
	<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>style</span><span class="token_punctuation">></span></span><span class="token_style"><span class="token_lang_css">
		<span class="token_selector">.inline</span> <span class="token_punctuation">{</span>
			<span class="token_property">color</span><span class="token_punctuation">:</span> blue<span class="token_punctuation">;</span>
		<span class="token_punctuation">}</span>
	</span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>style</span><span class="token_punctuation">></span></span>
<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>div</span><span class="token_punctuation">></span></span>

<span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;</span>style</span><span class="token_punctuation">></span></span><span class="token_style"><span class="token_lang_css">
	<span class="token_selector">.some_class</span> <span class="token_punctuation">{</span>
		<span class="token_property">color</span><span class="token_punctuation">:</span> red<span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span>

	<span class="token_selector">.hypen-class</span> <span class="token_punctuation">{</span>
		<span class="token_property">font-size</span><span class="token_punctuation">:</span> 16px<span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span>

	<span class="token_selector">p</span> <span class="token_punctuation">{</span>
		<span class="token_property">box-shadow</span><span class="token_punctuation">:</span> 0 0 10px <span class="token_function">rgba</span><span class="token_punctuation">(</span>0<span class="token_punctuation">,</span> 0<span class="token_punctuation">,</span> 0<span class="token_punctuation">,</span> 0.1<span class="token_punctuation">)</span><span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span>

	<span class="token_comment">/* comment */</span>

	<span class="token_comment">/*
	multi
	line

	&lt;comment>

	*/</span>

	<span class="token_selector">#unique_id</span> <span class="token_punctuation">{</span>
		<span class="token_property">background-color</span><span class="token_punctuation">:</span> blue<span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span>

	<span class="token_atrule"><span class="token_rule">@media</span> <span class="token_punctuation">(</span><span class="token_property">max-width</span><span class="token_punctuation">:</span> 600px<span class="token_punctuation">)</span></span> <span class="token_punctuation">{</span>
		<span class="token_selector">:global(body)</span> <span class="token_punctuation">{</span>
			<span class="token_property">background-color</span><span class="token_punctuation">:</span> <span class="token_function">light-dark</span><span class="token_punctuation">(</span>lightblue<span class="token_punctuation">,</span> darkblue<span class="token_punctuation">)</span><span class="token_punctuation">;</span>
		<span class="token_punctuation">}</span>
	<span class="token_punctuation">}</span>

	<span class="token_selector">:global(.escapehatch)::before</span> <span class="token_punctuation">{</span>
		<span class="token_property">content</span><span class="token_punctuation">:</span> <span class="token_string">'&lt; &amp; >'</span><span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span>
</span></span><span class="token_tag"><span class="token_tag"><span class="token_punctuation">&lt;/</span>style</span><span class="token_punctuation">></span></span>
