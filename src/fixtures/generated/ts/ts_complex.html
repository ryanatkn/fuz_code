<span class="token_keyword">const</span> a <span class="token_operator">=</span> <span class="token_number">1</span><span class="token_punctuation">;</span>

<span class="token_keyword">const</span> b<span class="token_type_annotation"><span class="token_:">:</span><span class="token_type"> <span class="token_builtin">string</span> </span></span><span class="token_operator">=</span> <span class="token_string">'b'</span><span class="token_punctuation">;</span>

<span class="token_keyword">const</span> c <span class="token_operator">=</span> <span class="token_boolean">true</span><span class="token_punctuation">;</span>

<span class="token_special_keyword">export</span> <span class="token_keyword">type</span> <span class="token_class_name"><span class="token_capitalized_identifier token_class_name">Some_Type</span></span> <span class="token_operator">=</span> <span class="token_number">1</span> <span class="token_operator">|</span> <span class="token_string">'b'</span> <span class="token_operator">|</span> <span class="token_boolean">true</span><span class="token_punctuation">;</span>

<span class="token_keyword">declare</span> <span class="token_keyword">const</span> some_decorator<span class="token_operator">:</span> <span class="token_builtin">any</span><span class="token_punctuation">;</span>

<span class="token_keyword">abstract</span> <span class="token_keyword">class</span> <span class="token_class_name"><span class="token_capitalized_identifier token_class_name">Base</span></span> <span class="token_punctuation">{</span>
	<span class="token_keyword">abstract</span> <span class="token_function">abstract_method</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_operator">:</span> <span class="token_keyword">void</span><span class="token_punctuation">;</span>
<span class="token_punctuation">}</span>

<span class="token_comment">/* eslint-disable no-console */</span>

<span class="token_decorator"><span class="token_at token_operator">@</span><span class="token_function token_decorator_name">some_decorator</span></span>
<span class="token_keyword">class</span> <span class="token_class_name"><span class="token_constant">D</span></span> <span class="token_keyword">extends</span> <span class="token_class_name"><span class="token_capitalized_identifier token_class_name">Base</span></span> <span class="token_punctuation">{</span>
	<span class="token_keyword">readonly</span> d1<span class="token_type_annotation"><span class="token_:">:</span><span class="token_type"> <span class="token_builtin">string</span> </span></span><span class="token_operator">=</span> <span class="token_string">'d'</span><span class="token_punctuation">;</span>
	d2<span class="token_operator">:</span> <span class="token_builtin">number</span><span class="token_punctuation">;</span>
	d3 <span class="token_operator">=</span> <span class="token_function">$state</span><span class="token_punctuation">(</span><span class="token_keyword">null</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>

	<span class="token_decorator"><span class="token_at token_operator">@</span><span class="token_function token_decorator_name">some_decorator</span></span>
	decorated <span class="token_operator">=</span> <span class="token_boolean">true</span><span class="token_punctuation">;</span>

	<span class="token_function">constructor</span><span class="token_punctuation">(</span>d2<span class="token_operator">:</span> <span class="token_builtin">number</span><span class="token_punctuation">)</span> <span class="token_punctuation">{</span>
		<span class="token_keyword">super</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
		<span class="token_keyword">this</span><span class="token_punctuation">.</span>d2 <span class="token_operator">=</span> d2<span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span>

	<span class="token_function">abstract_method</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_operator">:</span> <span class="token_keyword">void</span> <span class="token_punctuation">{</span>
		<span class="token_comment">// implementation</span>
	<span class="token_punctuation">}</span>

	<span class="token_decorator"><span class="token_at token_operator">@</span><span class="token_function token_decorator_name">some_decorator</span></span><span class="token_punctuation">(</span><span class="token_string">'example'</span><span class="token_punctuation">,</span> <span class="token_punctuation">{</span>option<span class="token_operator">:</span> <span class="token_boolean">true</span><span class="token_punctuation">}</span><span class="token_punctuation">)</span>
	<span class="token_function">class_method</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_operator">:</span> <span class="token_builtin">string</span> <span class="token_punctuation">{</span>
		<span class="token_special_keyword">return</span> <span class="token_template_string"><span class="token_template_punctuation token_string">`</span><span class="token_string">Hello, </span><span class="token_interpolation"><span class="token_interpolation_punctuation token_punctuation">${</span><span class="token_keyword">this</span><span class="token_punctuation">.</span>d1<span class="token_interpolation_punctuation token_punctuation">}</span></span><span class="token_template_punctuation token_string">`</span></span><span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span>

	<span class="token_function_variable token_function">instance_method</span> <span class="token_operator">=</span> <span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_type_annotation"><span class="token_:">:</span><span class="token_type"> <span class="token_keyword">void</span> </span></span><span class="token_operator">=></span> <span class="token_punctuation">{</span>
		<span class="token_comment">/* ... */</span>
		<span class="token_keyword">let</span> i <span class="token_operator">=</span> <span class="token_number">0</span><span class="token_punctuation">;</span>
		<span class="token_special_keyword">do</span> <span class="token_punctuation">{</span>
			i<span class="token_operator">++</span><span class="token_punctuation">;</span>
		<span class="token_punctuation">}</span> <span class="token_special_keyword">while</span> <span class="token_punctuation">(</span>i <span class="token_operator">&lt;</span> <span class="token_number">3</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>

		<span class="token_special_keyword">for</span> <span class="token_punctuation">(</span><span class="token_keyword">const</span> c2 <span class="token_keyword">of</span> <span class="token_keyword">this</span><span class="token_punctuation">.</span>d1<span class="token_punctuation">)</span> <span class="token_punctuation">{</span>
			<span class="token_special_keyword">if</span> <span class="token_punctuation">(</span>c2 <span class="token_operator">===</span> <span class="token_string">'d'</span><span class="token_punctuation">)</span> <span class="token_special_keyword">continue</span><span class="token_punctuation">;</span>
			<span class="token_special_keyword">if</span> <span class="token_punctuation">(</span><span class="token_operator">!</span>c2<span class="token_punctuation">)</span> <span class="token_special_keyword">break</span><span class="token_punctuation">;</span>
			<span class="token_keyword">this</span><span class="token_punctuation">.</span><span class="token_function">#private_method</span><span class="token_punctuation">(</span>a<span class="token_punctuation">,</span> c2<span class="token_punctuation">)</span><span class="token_punctuation">;</span>
		<span class="token_punctuation">}</span>

		<span class="token_special_keyword">switch</span> <span class="token_punctuation">(</span><span class="token_keyword">this</span><span class="token_punctuation">.</span>d1<span class="token_punctuation">)</span> <span class="token_punctuation">{</span>
			<span class="token_special_keyword">case</span> <span class="token_string">'a'</span><span class="token_operator">:</span>
				<span class="token_builtin">console</span><span class="token_punctuation">.</span><span class="token_function">log</span><span class="token_punctuation">(</span><span class="token_string">'case a'</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
				<span class="token_special_keyword">break</span><span class="token_punctuation">;</span>
			<span class="token_special_keyword">case</span> <span class="token_string">'b'</span><span class="token_operator">:</span>
			<span class="token_special_keyword">case</span> <span class="token_string">'c'</span><span class="token_operator">:</span>
				<span class="token_builtin">console</span><span class="token_punctuation">.</span><span class="token_function">log</span><span class="token_punctuation">(</span><span class="token_string">'case b or c'</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
				<span class="token_special_keyword">break</span><span class="token_punctuation">;</span>
			<span class="token_special_keyword">default</span><span class="token_operator">:</span>
				<span class="token_builtin">console</span><span class="token_punctuation">.</span><span class="token_function">log</span><span class="token_punctuation">(</span><span class="token_string">'default'</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
		<span class="token_punctuation">}</span>

		<span class="token_keyword">const</span> obj<span class="token_operator">:</span> <span class="token_punctuation">{</span>has_d1<span class="token_operator">?</span><span class="token_operator">:</span> <span class="token_builtin">boolean</span><span class="token_punctuation">;</span> is_d<span class="token_operator">:</span> <span class="token_builtin">boolean</span><span class="token_punctuation">}</span> <span class="token_operator">=</span> <span class="token_punctuation">{</span>
			has_d1<span class="token_operator">:</span> <span class="token_string">'d1'</span> <span class="token_keyword">in</span> <span class="token_keyword">this</span><span class="token_punctuation">,</span>
			is_d<span class="token_operator">:</span> <span class="token_keyword">this</span> <span class="token_keyword">instanceof</span> <span class="token_class_name"><span class="token_constant">D</span></span><span class="token_punctuation">,</span>
		<span class="token_punctuation">}</span><span class="token_punctuation">;</span>
		<span class="token_keyword">delete</span> obj<span class="token_punctuation">.</span>has_d1<span class="token_punctuation">;</span>
		<span class="token_comment">// foo</span>
	<span class="token_punctuation">}</span><span class="token_punctuation">;</span>

	<span class="token_function">#private_method</span><span class="token_punctuation">(</span>a2<span class="token_operator">:</span> <span class="token_builtin">number</span><span class="token_punctuation">,</span> c2<span class="token_operator">:</span> <span class="token_builtin">any</span><span class="token_punctuation">)</span><span class="token_operator">:</span> <span class="token_keyword">void</span> <span class="token_punctuation">{</span>
		<span class="token_special_keyword">throw</span> <span class="token_keyword">new</span> <span class="token_class_name"><span class="token_capitalized_identifier token_class_name">Error</span></span><span class="token_punctuation">(</span><span class="token_template_string"><span class="token_template_punctuation token_string">`</span><span class="token_interpolation"><span class="token_interpolation_punctuation token_punctuation">${</span><span class="token_keyword">this</span><span class="token_punctuation">.</span>d1<span class="token_interpolation_punctuation token_punctuation">}</span></span><span class="token_string">
			multiline
			etc </span><span class="token_interpolation"><span class="token_interpolation_punctuation token_punctuation">${</span>a2 <span class="token_operator">+</span> c2<span class="token_interpolation_punctuation token_punctuation">}</span></span><span class="token_string">
		</span><span class="token_template_punctuation token_string">`</span></span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span>

	<span class="token_operator">*</span><span class="token_function">generator</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_operator">:</span> <span class="token_capitalized_identifier token_class_name">Generator</span><span class="token_operator">&lt;</span><span class="token_builtin">number</span> <span class="token_operator">|</span> <span class="token_capitalized_identifier token_class_name">Array</span><span class="token_operator">&lt;</span><span class="token_builtin">number</span><span class="token_operator">>></span> <span class="token_punctuation">{</span>
		<span class="token_special_keyword">yield</span> <span class="token_number">1</span><span class="token_punctuation">;</span>
		<span class="token_special_keyword">yield</span><span class="token_operator">*</span> <span class="token_punctuation">[</span><span class="token_number">2</span><span class="token_punctuation">,</span> <span class="token_number">3</span><span class="token_punctuation">]</span><span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span>

	<span class="token_keyword">async</span> <span class="token_operator">*</span><span class="token_function">async_generator</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_operator">:</span> <span class="token_capitalized_identifier token_class_name">AsyncGenerator</span><span class="token_operator">&lt;</span><span class="token_builtin">number</span><span class="token_operator">></span> <span class="token_punctuation">{</span>
		<span class="token_special_keyword">yield</span> <span class="token_special_keyword">await</span> <span class="token_capitalized_identifier token_class_name">Promise</span><span class="token_punctuation">.</span><span class="token_function">resolve</span><span class="token_punctuation">(</span><span class="token_number">4</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
	<span class="token_punctuation">}</span>

	<span class="token_keyword">protected</span> <span class="token_keyword">async</span> <span class="token_function">protected_method</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_operator">:</span> <span class="token_capitalized_identifier token_class_name">Promise</span><span class="token_operator">&lt;</span><span class="token_keyword">void</span><span class="token_operator">></span> <span class="token_punctuation">{</span>
		<span class="token_special_keyword">try</span> <span class="token_punctuation">{</span>
			<span class="token_special_keyword">await</span> <span class="token_keyword">new</span> <span class="token_class_name"><span class="token_capitalized_identifier token_class_name">Promise</span></span><span class="token_punctuation">(</span><span class="token_punctuation">(</span>resolve<span class="token_punctuation">)</span> <span class="token_operator">=></span> <span class="token_function">setTimeout</span><span class="token_punctuation">(</span>resolve<span class="token_punctuation">,</span> <span class="token_number">100</span><span class="token_punctuation">)</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
			<span class="token_special_keyword">if</span> <span class="token_punctuation">(</span><span class="token_capitalized_identifier token_class_name">Math</span><span class="token_punctuation">.</span><span class="token_function">random</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span> <span class="token_operator">></span> <span class="token_number">0.5</span><span class="token_punctuation">)</span> <span class="token_punctuation">{</span>
				<span class="token_builtin">console</span><span class="token_punctuation">.</span><span class="token_function">log</span><span class="token_punctuation">(</span><span class="token_keyword">new</span> <span class="token_class_name"><span class="token_capitalized_identifier token_class_name">Date</span></span><span class="token_punctuation">(</span><span class="token_punctuation">)</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
			<span class="token_punctuation">}</span> <span class="token_special_keyword">else</span> <span class="token_special_keyword">if</span> <span class="token_punctuation">(</span><span class="token_capitalized_identifier token_class_name">Math</span><span class="token_punctuation">.</span><span class="token_function">random</span><span class="token_punctuation">(</span><span class="token_punctuation">)</span> <span class="token_operator">></span> <span class="token_number">0.2</span><span class="token_punctuation">)</span> <span class="token_punctuation">{</span>
				<span class="token_builtin">console</span><span class="token_punctuation">.</span><span class="token_function">log</span><span class="token_punctuation">(</span><span class="token_string">'else if branch'</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
			<span class="token_punctuation">}</span> <span class="token_special_keyword">else</span> <span class="token_punctuation">{</span>
				<span class="token_builtin">console</span><span class="token_punctuation">.</span><span class="token_function">log</span><span class="token_punctuation">(</span><span class="token_string">'else branch'</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
			<span class="token_punctuation">}</span>
		<span class="token_punctuation">}</span> <span class="token_special_keyword">catch</span> <span class="token_punctuation">(</span>error<span class="token_operator">:</span> <span class="token_builtin">unknown</span><span class="token_punctuation">)</span> <span class="token_punctuation">{</span>
			<span class="token_builtin">console</span><span class="token_punctuation">.</span><span class="token_function">error</span><span class="token_punctuation">(</span>error<span class="token_punctuation">)</span><span class="token_punctuation">;</span>
		<span class="token_punctuation">}</span> <span class="token_special_keyword">finally</span> <span class="token_punctuation">{</span>
			<span class="token_builtin">console</span><span class="token_punctuation">.</span><span class="token_function">log</span><span class="token_punctuation">(</span><span class="token_string">'finally block'</span><span class="token_punctuation">)</span><span class="token_punctuation">;</span>
		<span class="token_punctuation">}</span>
	<span class="token_punctuation">}</span>
<span class="token_punctuation">}</span>

<span class="token_comment">// comment</span>

<span class="token_comment">/*
other comment

const comment = false;
*/</span>

<span class="token_comment">/**
 * JSDoc comment
 */</span>

<span class="token_special_keyword">import</span> <span class="token_punctuation">{</span>sample_langs<span class="token_punctuation">,</span> <span class="token_keyword">type</span> <span class="token_class_name"><span class="token_capitalized_identifier token_class_name">Sample_Lang</span></span><span class="token_punctuation">}</span> <span class="token_special_keyword">from</span> <span class="token_string">'../code_sample.js'</span><span class="token_punctuation">;</span>
<span class="token_special_keyword">import</span> <span class="token_operator">*</span> <span class="token_special_keyword">as</span> <span class="token_constant">A</span> <span class="token_special_keyword">from</span> <span class="token_string">'../code_sample.js'</span><span class="token_punctuation">;</span>

<span class="token_special_keyword">export</span> <span class="token_punctuation">{</span>a<span class="token_punctuation">,</span> <span class="token_constant">A</span><span class="token_punctuation">,</span> b<span class="token_punctuation">,</span> c<span class="token_punctuation">,</span> <span class="token_constant">D</span><span class="token_punctuation">}</span><span class="token_punctuation">;</span>

sample_langs <span class="token_special_keyword">as</span> <span class="token_builtin">unknown</span> <span class="token_special_keyword">as</span> <span class="token_capitalized_identifier token_class_name">Sample_Lang</span> <span class="token_keyword">satisfies</span> <span class="token_capitalized_identifier token_class_name">Sample_Lang</span><span class="token_punctuation">;</span>

<span class="token_special_keyword">export</span> <span class="token_keyword">interface</span> <span class="token_class_name"><span class="token_capitalized_identifier token_class_name">Some_E</span><span class="token_operator">&lt;</span><span class="token_constant">T</span> <span class="token_operator">=</span> <span class="token_keyword">null</span><span class="token_operator">></span></span> <span class="token_punctuation">{</span>
	name<span class="token_operator">:</span> <span class="token_builtin">string</span><span class="token_punctuation">;</span>
	age<span class="token_operator">:</span> <span class="token_builtin">number</span><span class="token_punctuation">;</span>
	t<span class="token_operator">?</span><span class="token_operator">:</span> <span class="token_constant">T</span><span class="token_punctuation">;</span>
<span class="token_punctuation">}</span>

<span class="token_keyword">const</span> e<span class="token_operator">:</span> <span class="token_punctuation">{</span>name<span class="token_operator">:</span> <span class="token_builtin">string</span><span class="token_punctuation">;</span> age<span class="token_operator">:</span> <span class="token_builtin">number</span><span class="token_punctuation">}</span> <span class="token_operator">=</span> <span class="token_punctuation">{</span>name<span class="token_operator">:</span> <span class="token_string">'A. H.'</span><span class="token_punctuation">,</span> age<span class="token_operator">:</span> <span class="token_number">100</span><span class="token_punctuation">}</span><span class="token_punctuation">;</span>
<span class="token_keyword">const</span> v <span class="token_operator">=</span> <span class="token_punctuation">[</span><span class="token_punctuation">[</span><span class="token_string">''</span><span class="token_punctuation">,</span> e<span class="token_punctuation">]</span><span class="token_punctuation">]</span> <span class="token_special_keyword">as</span> <span class="token_keyword">const</span><span class="token_punctuation">;</span>
<span class="token_special_keyword">export</span> <span class="token_keyword">const</span> some_e<span class="token_type_annotation"><span class="token_:">:</span><span class="token_type"> <span class="token_capitalized_identifier token_class_name">Map</span><span class="token_operator">&lt;</span><span class="token_builtin">string</span><span class="token_punctuation">,</span> <span class="token_capitalized_identifier token_class_name">Some_E</span><span class="token_operator">></span> </span></span><span class="token_operator">=</span> <span class="token_keyword">new</span> <span class="token_class_name"><span class="token_capitalized_identifier token_class_name">Map</span></span><span class="token_punctuation">(</span>v<span class="token_punctuation">)</span><span class="token_punctuation">;</span>

<span class="token_special_keyword">export</span> <span class="token_keyword">function</span> <span class="token_function">add</span><span class="token_punctuation">(</span>x<span class="token_operator">:</span> <span class="token_builtin">number</span><span class="token_punctuation">,</span> y<span class="token_operator">:</span> <span class="token_builtin">number</span><span class="token_punctuation">)</span><span class="token_operator">:</span> <span class="token_builtin">number</span> <span class="token_punctuation">{</span>
	<span class="token_special_keyword">return</span> x <span class="token_operator">+</span> y<span class="token_punctuation">;</span>
<span class="token_punctuation">}</span>

<span class="token_special_keyword">export</span> <span class="token_keyword">const</span> <span class="token_function_variable token_function">plus</span> <span class="token_operator">=</span> <span class="token_punctuation">(</span>a<span class="token_operator">:</span> <span class="token_builtin">any</span><span class="token_punctuation">,</span> b<span class="token_operator">:</span> <span class="token_builtin">any</span><span class="token_punctuation">)</span><span class="token_type_annotation"><span class="token_:">:</span><span class="token_type"> <span class="token_builtin">any</span> </span></span><span class="token_operator">=></span> a <span class="token_operator">+</span> b<span class="token_punctuation">;</span>

<span class="token_comment">// boundary test cases</span>
<span class="token_special_keyword">export</span> <span class="token_keyword">const</span> str_with_keywords <span class="token_operator">=</span> <span class="token_string">'const class function string'</span><span class="token_punctuation">;</span>
<span class="token_special_keyword">export</span> <span class="token_keyword">const</span> str_with_comment <span class="token_operator">=</span> <span class="token_string">'// this is not a comment'</span><span class="token_punctuation">;</span>
<span class="token_special_keyword">export</span> <span class="token_keyword">const</span> template_with_expr <span class="token_operator">=</span> <span class="token_template_string"><span class="token_template_punctuation token_string">`</span><span class="token_string">Value: </span><span class="token_interpolation"><span class="token_interpolation_punctuation token_punctuation">${</span><span class="token_number">1</span> <span class="token_operator">+</span> <span class="token_number">2</span><span class="token_interpolation_punctuation token_punctuation">}</span></span><span class="token_template_punctuation token_string">`</span></span><span class="token_punctuation">;</span>

<span class="token_comment">// regex that looks like comment</span>
<span class="token_special_keyword">export</span> <span class="token_keyword">const</span> regex <span class="token_operator">=</span> <span class="token_regex"><span class="token_regex_delimiter">/</span><span class="token_regex_source token_lang_regex">\/\/.*</span><span class="token_regex_delimiter">/</span><span class="token_regex_flags">g</span></span><span class="token_punctuation">;</span>
<span class="token_special_keyword">export</span> <span class="token_keyword">const</span> complex_regex <span class="token_operator">=</span> <span class="token_regex"><span class="token_regex_delimiter">/</span><span class="token_regex_source token_lang_regex">^(?:\/\*.*?\*\/|\/\/.*|[^/])+$</span><span class="token_regex_delimiter">/</span></span><span class="token_punctuation">;</span>

<span class="token_comment">// string in comment should not be highlighted as string</span>
<span class="token_comment">// const commented = "this string is in a comment";</span>
