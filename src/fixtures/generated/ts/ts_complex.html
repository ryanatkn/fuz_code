<span class="token keyword">const</span> a <span class="token operator">=</span>
<span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> b<span class="token type_annotation"
	><span class="token :">:</span
	><span class="token type"> <span class="token builtin">string</span> </span></span
><span class="token operator">=</span> <span class="token string">'b'</span
><span class="token punctuation">;</span>

<span class="token keyword">const</span> c <span class="token operator">=</span>
<span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token special_keyword">export</span> <span class="token keyword">type</span>
<span class="token class_name"
	><span class="token capitalized_identifier class_name">Some_Type</span></span
>
<span class="token operator">=</span> <span class="token number">1</span>
<span class="token operator">|</span> <span class="token string">'b'</span>
<span class="token operator">|</span> <span class="token boolean">true</span
><span class="token punctuation">;</span>

<span class="token keyword">declare</span>
<span class="token keyword">const</span> some_decorator<span class="token operator">:</span>
<span class="token builtin">any</span><span class="token punctuation">;</span>

<span class="token keyword">abstract</span> <span class="token keyword">class</span>
<span class="token class_name"
	><span class="token capitalized_identifier class_name">Base</span></span
>
<span class="token punctuation">{</span> <span class="token keyword">abstract</span>
<span class="token function">abstract_method</span><span class="token punctuation">(</span
><span class="token punctuation">)</span><span class="token operator">:</span>
<span class="token keyword">void</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token decorator"
	><span class="token at operator">@</span
	><span class="token function decorator_name">some_decorator</span></span
>
<span class="token keyword">class</span>
<span class="token class_name"><span class="token constant">D</span></span>
<span class="token keyword">extends</span>
<span class="token class_name"
	><span class="token capitalized_identifier class_name">Base</span></span
>
<span class="token punctuation">{</span> <span class="token keyword">readonly</span> d1<span
	class="token type_annotation"
	><span class="token :">:</span
	><span class="token type"> <span class="token builtin">string</span> </span></span
><span class="token operator">=</span> <span class="token string">'d'</span
><span class="token punctuation">;</span> d2<span class="token operator">:</span>
<span class="token builtin">number</span><span class="token punctuation">;</span> d3
<span class="token operator">=</span> <span class="token function">$state</span
><span class="token punctuation">(</span><span class="token keyword">null</span
><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token decorator"
	><span class="token at operator">@</span
	><span class="token function decorator_name">some_decorator</span></span
>
decorated <span class="token operator">=</span> <span class="token boolean">true</span
><span class="token punctuation">;</span>

<span class="token function">constructor</span><span class="token punctuation">(</span>d2<span
	class="token operator"
	>:</span
>
<span class="token builtin">number</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span> <span class="token keyword">super</span
><span class="token punctuation">(</span><span class="token punctuation">)</span
><span class="token punctuation">;</span> <span class="token keyword">this</span
><span class="token punctuation">.</span>d2 <span class="token operator">=</span> d2<span
	class="token punctuation"
	>;</span
>
<span class="token punctuation">}</span>

<span class="token function">abstract_method</span><span class="token punctuation">(</span
><span class="token punctuation">)</span><span class="token operator">:</span>
<span class="token keyword">void</span> <span class="token punctuation">{</span>
<span class="token comment">// implementation</span>
<span class="token punctuation">}</span>

<span class="token decorator"
	><span class="token at operator">@</span
	><span class="token function decorator_name">some_decorator</span></span
><span class="token punctuation">(</span><span class="token string">'example'</span
><span class="token punctuation">,</span> <span class="token punctuation">{</span>option<span
	class="token operator"
	>:</span
>
<span class="token boolean">true</span><span class="token punctuation">}</span
><span class="token punctuation">)</span> <span class="token function">class_method</span
><span class="token punctuation">(</span><span class="token punctuation">)</span
><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">{</span> <span class="token special_keyword">return</span>
<span class="token template_string"
	><span class="token template_punctuation string">`</span><span class="token string">Hello, </span
	><span class="token interpolation"
		><span class="token interpolation_punctuation punctuation">${</span
		><span class="token keyword">this</span><span class="token punctuation">.</span>d1<span
			class="token interpolation_punctuation punctuation"
			>}</span
		></span
	><span class="token template_punctuation string">`</span></span
><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function_variable function">instance_method</span>
<span class="token operator">=</span> <span class="token punctuation">(</span
><span class="token punctuation">)</span
><span class="token type_annotation"
	><span class="token :">:</span
	><span class="token type"> <span class="token keyword">void</span> </span></span
><span class="token operator">=></span> <span class="token punctuation">{</span>
<span class="token comment">/* ... */</span>
<span class="token keyword">let</span> i <span class="token operator">=</span>
<span class="token number">0</span><span class="token punctuation">;</span>
<span class="token special_keyword">do</span> <span class="token punctuation">{</span> i<span
	class="token operator"
	>++</span
><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token special_keyword">while</span> <span class="token punctuation">(</span>i
<span class="token operator">&lt;</span> <span class="token number">3</span
><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token special_keyword">for</span> <span class="token punctuation">(</span
><span class="token keyword">const</span> c2 <span class="token keyword">of</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>d1<span
	class="token punctuation"
	>)</span
>
<span class="token punctuation">{</span> <span class="token special_keyword">if</span>
<span class="token punctuation">(</span>c2 <span class="token operator">===</span>
<span class="token string">'d'</span><span class="token punctuation">)</span>
<span class="token special_keyword">continue</span><span class="token punctuation">;</span>
<span class="token special_keyword">if</span> <span class="token punctuation">(</span
><span class="token operator">!</span>c2<span class="token punctuation">)</span>
<span class="token special_keyword">break</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span
><span class="token function">#private_method</span><span class="token punctuation">(</span>a<span
	class="token punctuation"
	>,</span
>
c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token special_keyword">switch</span> <span class="token punctuation">(</span
><span class="token keyword">this</span><span class="token punctuation">.</span>d1<span
	class="token punctuation"
	>)</span
>
<span class="token punctuation">{</span> <span class="token special_keyword">case</span>
<span class="token string">'a'</span><span class="token operator">:</span>
<span class="token builtin">console</span><span class="token punctuation">.</span
><span class="token function">log</span><span class="token punctuation">(</span
><span class="token string">'case a'</span><span class="token punctuation">)</span
><span class="token punctuation">;</span> <span class="token special_keyword">break</span
><span class="token punctuation">;</span> <span class="token special_keyword">case</span>
<span class="token string">'b'</span><span class="token operator">:</span>
<span class="token special_keyword">case</span> <span class="token string">'c'</span
><span class="token operator">:</span> <span class="token builtin">console</span
><span class="token punctuation">.</span><span class="token function">log</span
><span class="token punctuation">(</span><span class="token string">'case b or c'</span
><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token special_keyword">break</span><span class="token punctuation">;</span>
<span class="token special_keyword">default</span><span class="token operator">:</span>
<span class="token builtin">console</span><span class="token punctuation">.</span
><span class="token function">log</span><span class="token punctuation">(</span
><span class="token string">'default'</span><span class="token punctuation">)</span
><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj<span class="token operator">:</span>
<span class="token punctuation">{</span>has_d1<span class="token operator">?</span
><span class="token operator">:</span> <span class="token builtin">boolean</span
><span class="token punctuation">;</span> is_d<span class="token operator">:</span>
<span class="token builtin">boolean</span><span class="token punctuation">}</span>
<span class="token operator">=</span> <span class="token punctuation">{</span> has_d1<span
	class="token operator"
	>:</span
>
<span class="token string">'d1'</span> <span class="token keyword">in</span>
<span class="token keyword">this</span><span class="token punctuation">,</span> is_d<span
	class="token operator"
	>:</span
>
<span class="token keyword">this</span> <span class="token keyword">instanceof</span>
<span class="token class_name"><span class="token constant">D</span></span
><span class="token punctuation">,</span> <span class="token punctuation">}</span
><span class="token punctuation">;</span> <span class="token keyword">delete</span> obj<span
	class="token punctuation"
	>.</span
>has_d1<span class="token punctuation">;</span>
<span class="token comment">// foo</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">#private_method</span><span class="token punctuation">(</span>a2<span
	class="token operator"
	>:</span
>
<span class="token builtin">number</span><span class="token punctuation">,</span> c2<span
	class="token operator"
	>:</span
>
<span class="token builtin">any</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span> <span class="token special_keyword">throw</span>
<span class="token keyword">new</span>
<span class="token class_name"
	><span class="token capitalized_identifier class_name">Error</span></span
><span class="token punctuation">(</span
><span class="token template_string"
	><span class="token template_punctuation string">`</span
	><span class="token interpolation"
		><span class="token interpolation_punctuation punctuation">${</span
		><span class="token keyword">this</span><span class="token punctuation">.</span>d1<span
			class="token interpolation_punctuation punctuation"
			>}</span
		></span
	><span class="token string"> multiline etc </span
	><span class="token interpolation"
		><span class="token interpolation_punctuation punctuation">${</span>a2
		<span class="token operator">+</span> c2<span
			class="token interpolation_punctuation punctuation"
			>}</span
		></span
	><span class="token string"> </span><span class="token template_punctuation string">`</span></span
><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token operator">*</span><span class="token function">generator</span
><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span> <span class="token special_keyword">yield</span>
<span class="token number">1</span><span class="token punctuation">;</span>
<span class="token special_keyword">yield</span><span class="token operator">*</span>
<span class="token punctuation">[</span><span class="token number">2</span
><span class="token punctuation">,</span> <span class="token number">3</span
><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">async</span> <span class="token operator">*</span
><span class="token function">async_generator</span><span class="token punctuation">(</span
><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token special_keyword">yield</span> <span class="token special_keyword">await</span>
<span class="token capitalized_identifier class_name">Promise</span
><span class="token punctuation">.</span><span class="token function">resolve</span
><span class="token punctuation">(</span><span class="token number">4</span
><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">protected</span> <span class="token keyword">async</span>
<span class="token function">protected_method</span><span class="token punctuation">(</span
><span class="token punctuation">)</span><span class="token operator">:</span>
<span class="token capitalized_identifier class_name">Promise</span
><span class="token operator">&lt;</span><span class="token keyword">void</span
><span class="token operator">></span> <span class="token punctuation">{</span>
<span class="token special_keyword">try</span> <span class="token punctuation">{</span>
<span class="token special_keyword">await</span> <span class="token keyword">new</span>
<span class="token class_name"
	><span class="token capitalized_identifier class_name">Promise</span></span
><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span
	class="token punctuation"
	>)</span
>
<span class="token operator">=></span> <span class="token function">setTimeout</span
><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span>
<span class="token number">100</span><span class="token punctuation">)</span
><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token special_keyword">if</span> <span class="token punctuation">(</span
><span class="token capitalized_identifier class_name">Math</span
><span class="token punctuation">.</span><span class="token function">random</span
><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">></span> <span class="token number">0.5</span
><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token builtin">console</span><span class="token punctuation">.</span
><span class="token function">log</span><span class="token punctuation">(</span
><span class="token keyword">new</span>
<span class="token class_name"
	><span class="token capitalized_identifier class_name">Date</span></span
><span class="token punctuation">(</span><span class="token punctuation">)</span
><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// eslint-disable-line no-console</span>
<span class="token punctuation">}</span> <span class="token special_keyword">else</span>
<span class="token special_keyword">if</span> <span class="token punctuation">(</span
><span class="token capitalized_identifier class_name">Math</span
><span class="token punctuation">.</span><span class="token function">random</span
><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">></span> <span class="token number">0.2</span
><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token builtin">console</span><span class="token punctuation">.</span
><span class="token function">log</span><span class="token punctuation">(</span
><span class="token string">'else if branch'</span><span class="token punctuation">)</span
><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token special_keyword">else</span> <span class="token punctuation">{</span>
<span class="token builtin">console</span><span class="token punctuation">.</span
><span class="token function">log</span><span class="token punctuation">(</span
><span class="token string">'else branch'</span><span class="token punctuation">)</span
><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token special_keyword">catch</span>
<span class="token punctuation">(</span>error<span class="token operator">:</span>
<span class="token builtin">unknown</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span> <span class="token builtin">console</span
><span class="token punctuation">.</span><span class="token function">error</span
><span class="token punctuation">(</span>error<span class="token punctuation">)</span
><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token special_keyword">finally</span> <span class="token punctuation">{</span>
<span class="token builtin">console</span><span class="token punctuation">.</span
><span class="token function">log</span><span class="token punctuation">(</span
><span class="token string">'finally block'</span><span class="token punctuation">)</span
><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// comment</span>

<span class="token comment">/* other comment const comment = false; */</span>

<span class="token comment">/** * JSDoc comment */</span>

<span class="token special_keyword">import</span>
<span class="token punctuation">{</span>sample_langs<span class="token punctuation">,</span>
<span class="token keyword">type</span>
<span class="token class_name"
	><span class="token capitalized_identifier class_name">Sample_Lang</span></span
><span class="token punctuation">}</span> <span class="token special_keyword">from</span>
<span class="token string">'../code_sample.js'</span><span class="token punctuation">;</span>
<span class="token special_keyword">import</span> <span class="token operator">*</span>
<span class="token special_keyword">as</span> <span class="token constant">A</span>
<span class="token special_keyword">from</span> <span class="token string">'../code_sample.js'</span
><span class="token punctuation">;</span>

<span class="token special_keyword">export</span> <span class="token punctuation">{</span>a<span
	class="token punctuation"
	>,</span
>
<span class="token constant">A</span><span class="token punctuation">,</span> b<span
	class="token punctuation"
	>,</span
>
c<span class="token punctuation">,</span> <span class="token constant">D</span
><span class="token punctuation">}</span><span class="token punctuation">;</span>

sample_langs <span class="token special_keyword">as</span>
<span class="token builtin">unknown</span> <span class="token special_keyword">as</span>
<span class="token capitalized_identifier class_name">Sample_Lang</span>
<span class="token keyword">satisfies</span>
<span class="token capitalized_identifier class_name">Sample_Lang</span
><span class="token punctuation">;</span>

<span class="token special_keyword">export</span> <span class="token keyword">interface</span>
<span class="token class_name"
	><span class="token capitalized_identifier class_name">Some_E</span
	><span class="token operator">&lt;</span><span class="token constant">T</span>
	<span class="token operator">=</span> <span class="token keyword">null</span
	><span class="token operator">></span></span
>
<span class="token punctuation">{</span> name<span class="token operator">:</span>
<span class="token builtin">string</span><span class="token punctuation">;</span> age<span
	class="token operator"
	>:</span
>
<span class="token builtin">number</span><span class="token punctuation">;</span> t<span
	class="token operator"
	>?</span
><span class="token operator">:</span> <span class="token constant">T</span
><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> e<span class="token operator">:</span>
<span class="token punctuation">{</span>name<span class="token operator">:</span>
<span class="token builtin">string</span><span class="token punctuation">;</span> age<span
	class="token operator"
	>:</span
>
<span class="token builtin">number</span><span class="token punctuation">}</span>
<span class="token operator">=</span> <span class="token punctuation">{</span>name<span
	class="token operator"
	>:</span
>
<span class="token string">'A. H.'</span><span class="token punctuation">,</span> age<span
	class="token operator"
	>:</span
>
<span class="token number">100</span><span class="token punctuation">}</span
><span class="token punctuation">;</span> <span class="token keyword">const</span> v
<span class="token operator">=</span> <span class="token punctuation">[</span
><span class="token punctuation">[</span><span class="token string">''</span
><span class="token punctuation">,</span> e<span class="token punctuation">]</span
><span class="token punctuation">]</span> <span class="token special_keyword">as</span>
<span class="token keyword">const</span><span class="token punctuation">;</span>
<span class="token special_keyword">export</span>
<span class="token keyword">const</span> some_e<span class="token type_annotation"
	><span class="token :">:</span
	><span class="token type">
		<span class="token capitalized_identifier class_name">Map</span
		><span class="token operator">&lt;</span><span class="token builtin">string</span
		><span class="token punctuation">,</span>
		<span class="token capitalized_identifier class_name">Some_E</span
		><span class="token operator">></span>
	</span></span
><span class="token operator">=</span> <span class="token keyword">new</span>
<span class="token class_name"
	><span class="token capitalized_identifier class_name">Map</span></span
><span class="token punctuation">(</span>v<span class="token punctuation">)</span
><span class="token punctuation">;</span>

<span class="token special_keyword">export</span> <span class="token keyword">function</span>
<span class="token function">add</span><span class="token punctuation">(</span>x<span
	class="token operator"
	>:</span
>
<span class="token builtin">number</span><span class="token punctuation">,</span> y<span
	class="token operator"
	>:</span
>
<span class="token builtin">number</span><span class="token punctuation">)</span
><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">{</span> <span class="token special_keyword">return</span> x
<span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token special_keyword">export</span> <span class="token keyword">const</span>
<span class="token function_variable function">plus</span> <span class="token operator">=</span>
<span class="token punctuation">(</span>a<span class="token operator">:</span>
<span class="token builtin">any</span><span class="token punctuation">,</span> b<span
	class="token operator"
	>:</span
>
<span class="token builtin">any</span><span class="token punctuation">)</span
><span class="token type_annotation"
	><span class="token :">:</span
	><span class="token type"> <span class="token builtin">any</span> </span></span
><span class="token operator">=></span> a <span class="token operator">+</span> b<span
	class="token punctuation"
	>;</span
>

<span class="token comment">// boundary test cases</span>
<span class="token special_keyword">export</span>
<span class="token keyword">const</span> str_with_keywords <span class="token operator">=</span>
<span class="token string">'const class function string'</span
><span class="token punctuation">;</span> <span class="token special_keyword">export</span>
<span class="token keyword">const</span> str_with_comment <span class="token operator">=</span>
<span class="token string">'// this is not a comment'</span
><span class="token punctuation">;</span> <span class="token special_keyword">export</span>
<span class="token keyword">const</span> template_with_expr <span class="token operator">=</span>
<span class="token template_string"
	><span class="token template_punctuation string">`</span><span class="token string">Value: </span
	><span class="token interpolation"
		><span class="token interpolation_punctuation punctuation">${</span
		><span class="token number">1</span> <span class="token operator">+</span>
		<span class="token number">2</span
		><span class="token interpolation_punctuation punctuation">}</span></span
	><span class="token template_punctuation string">`</span></span
><span class="token punctuation">;</span>

<span class="token comment">// regex that looks like comment</span>
<span class="token special_keyword">export</span> <span class="token keyword">const</span> regex
<span class="token operator">=</span>
<span class="token regex"
	><span class="token regex_delimiter">/</span
	><span class="token regex_source lang_regex">\/\/.*</span
	><span class="token regex_delimiter">/</span><span class="token regex_flags">g</span></span
><span class="token punctuation">;</span> <span class="token special_keyword">export</span>
<span class="token keyword">const</span> complex_regex <span class="token operator">=</span>
<span class="token regex"
	><span class="token regex_delimiter">/</span
	><span class="token regex_source lang_regex">^(?:\/\*.*?\*\/|\/\/.*|[^/])+$</span
	><span class="token regex_delimiter">/</span></span
><span class="token punctuation">;</span>

<span class="token comment">// string in comment should not be highlighted as string</span>
<span class="token comment">// const commented = "this string is in a comment";</span>
